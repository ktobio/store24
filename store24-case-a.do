/**********************************************************************************File        : store24-case-a.do  <--- this should be the exact name of THIS documentAuthor      : Kristina Tobio Created     : 15 Nov 2016Modified    : 15 Nov 2016Description : .do file for Store24 Case Part A **********************************************************************************/// these commands prepare your computer for the data and analysis// this finds and closes open log filescapture log close        // this clears Stata's data memory so new data can be loadedclear       // this makes it so you don't have to keep pressing return/enter to scroll through resultsset more off          // this sets memory sizeset mem 100m       // this keeps everything visible on a normal monitor or laptop screenset linesize 200    // cd means "change directory"// you need to change this to the location on your computer where you are storing the .do and data files*cd "/Users/ktobio/Desktop/Jeff/Course/Store24/store24-case/"       // this creates a log file, which will record all of the commands and outputs from this .do file // log files should be placed in a folder named "logs" in your directory log using "logs/store24-case-a", replace// data should be placed in a folder named "data" in your directory // the data is in .csv (comma seperated values) format// this command reads the data into Statainsheet using "data/store24-case-data.csv", names// code here that labels the variables?// save the data as a Stata datasetsave "data/store24-case-data.dta", replace// A FIRST CUT AT THE DATA // displays summary statistics for a subset of variablessummarize sales profit mtenure ctenure pop comp visibility pedcount res hours24// display summary statistics for the the most profitable and least profitable stores// gsort sorts by the variable indicated// the negative sign before "profit" sorts in descending order (default is ascending order)gsort -profit// _n is the obervation number// because we have sorted profit in descending order, observations 1-10 are the most profitable stores// "list" lists the variables indicatedlist store profit mtenure ctenure if _n<=10// we can use "sort" to sort profit in ascending order; gsort without the negative sign would also worksort profit// because we have sorted profit in descending order, observations 1-10 are the least profitable storeslist store profit mtenure ctenure if _n<=10// PART ONE: TENURE MATTERS// Does manager tenure have an effect on profit? On sales?regress profit mtenureregress sales mtenure// What about crew tenure?regress profit ctenureregress sales ctenure// What about both?regress profit mtenure ctenureregress sales mtenure ctenure// What happens when we add control variables?regress profit mtenure ctenure pop comp visibility ped res hours24regress sales mtenure ctenure pop comp visibility ped res hours24// Benefit of Experience - Creating Standardized Coefficients// Re-run the profit regressionregress profit mtenure ctenure pop comp visibility ped res hours24// Summarize the variable mtenure, then capture the standard deviation in a local (temporary) variable// Note that "sum" is the same command as "summarize"sum mtenurelocal a=r(sd)// Here, we create a standardized coefficient for mtenure // The command _b[VARIABLE] captures the coefficient of VARIABLE in the most recent regressiong sco_mtenure=`a'*_b[mtenure]// We could create standardized coefficients for each of the remaining variables in the regression by retyping these 3 lines 7 more times// Or, we could use a loop, which saves us time and reduced visual clutter in our .do fileforeach var in ctenure pop comp visibility ped res hours24 {sum `var'local a=r(sd)g sco_`var'=`a'*_b[`var']}// Here, we list the values of each our standardized coefficients// A * is a wild card, so this command lists all the variables that begin with "sco_"list sco_* if _n==1stop// because we created some new variables, we want to save this dataset in case we want to use it latersave "data/store24-case-data-new-variables.dta", replace// closes your loglog close// drops all data from Stata's memoryclear